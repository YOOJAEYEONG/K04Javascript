<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div {
            display: inline;
        }
        #count{
            font-size: 2em;
            font-weight: bold;
        }
    </style>
    
</head>
<body>
    <h2>업다운게임</h2>
    <h4>1~100숫자를 입력하세요</h4>

    <div>시도횟수 :</div>
    <div id="count">0</div>
    <div>회</div>
    <br>
    숫자입력 : <input type="number" style="width: 50px;" name="input">
    <button type="button" >확인</button>
    <br>
    <img id="img" src="./images/updowngame.jpg" width="250">


    <script>
        var ranNum, times=1;
        ranNum = parseInt(Math.random()*100+1);
        console.log("난수:", ranNum);

        var imgDOM = document.getElementsByTagName("img")[0];
        var btnDOM = document.getElementsByTagName("button")[0];
        var inptDOM = document.getElementsByName("input")[0];
        var cntDOM = document.getElementById("count");

        btnDOM.addEventListener('click', () => {
            
            if(inptDOM.value<0 || inptDOM.value>100){
                alert(inptDOM.value+"=> 0~100사이의 숫자만 입력가능합니다.");
                return;
            }
            else{
                cntDOM.innerText = times++;
                
                if(ranNum==inptDOM.value){
                    imgDOM.src = "./images/answer.jpeg";
                    window.setTimeout(()=>{
                        alert("정답입니다");
                        location.reload(); 
                    }, 50);
                    
                }
                else if(ranNum>inptDOM.value){
                    imgDOM.src = "./images/up.jpg"
                }
                else if(ranNum<inptDOM.value){
                    imgDOM.src = "./images/down.jpg"
                }
            }
            console.log(times);
            if(times==8){
                imgDOM.src = "./images/error.jpg";
                window.setTimeout(()=>{
                    alert("7번의 기회를 모두 사용했습니다.");
                    location.reload(); 
                }, 50);
            }
        });

    </script>
</body>
</html>